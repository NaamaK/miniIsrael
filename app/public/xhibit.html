<!DOCTYPE html>
<html ng-app="xhibit">
    <head>
        <title>Mini Israel</title>
        <meta charset="UTF-8">
        <base href="/xhibit.html">
        <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="/css/bootstrap-theme.min.css">
        <link rel="stylesheet" type="text/css" href="/css/style.css">
        <script src="https://apis.google.com/js/client:platform.js?onload=renderButton" async defer></script>
        <meta name="google-signin-client_id" content="57315749839-cbgga3h69794p7fv2spg378v116car9o.apps.googleusercontent.com">
        <script src="/js/jquery.min.js"></script>
        <script type="text/javascript">
            function onSuccess(googleUser) {
                var profile = googleUser.getBasicProfile();
                gapi.client.load('plus', 'v1', function () {
                    var request = gapi.client.plus.people.get({
                        'userId': 'me'
                    });
                    //Display the user details
                    request.execute(function (resp) {
                        var profileHTML = '<div class="profile"><div class="head">Welcome '+resp.name.givenName+'! <a href="javascript:void(0);" onclick="signOut();">Sign out</a></div>';
                        profileHTML += '<img src="'+resp.image.url+'"/><div class="proDetails"><p>'+resp.displayName+'</p><p>'+resp.emails[0].value+'</p><p>'+resp.gender+'</p><p>'+resp.id+'</p><p><a href="'+resp.url+'">View Google+ Profile</a></p></div></div>';
                        $('.userContent').html(profileHTML);
                        $('#gSignIn').slideUp('slow');
                        document.cookie = "googleEmail=" + resp.emails[0].value;
                        document.cookie = "googleUser=" + resp.displayName;
                        angular.element(document.getElementById('xhibitController')).scope().getUser();
                    });
                });
            }
            function onFailure(error) {
                alert(error);
            }
            function renderButton() {
                gapi.signin2.render('gSignIn', {
                    'scope': 'profile email',
                    'width': 240,
                    'height': 50,
                    'longtitle': true,
                    'theme': 'dark',
                    'onsuccess': onSuccess,
                    'onfailure': onFailure
                });
            }
            function signOut() {
                var auth2 = gapi.auth2.getAuthInstance();
                auth2.signOut().then(function () {
                    $('.userContent').html('');
                    $('#gSignIn').slideDown('slow');
                });
                document.cookie = "googleEmail=";
                document.cookie = "googleUser=";
                angular.element(document.getElementById('exhibitCtrl')).scope().getUser();
            }
        </script>
    </head>
    <body ng-controller="exhibitCtrl" id="xhibitController">
        <div id="wrapper">
            <header>
                <a href="index.html" id="logo"></a> 
            </header>

            <div class="mobile-nav">

                <nav role="navigation">
                  <div id="menuToggle">
                    <input type="checkbox" />
                    <span></span>
                    <span></span>
                    <span></span>
                    
                    <ul id="menu">
                      <a href="index.html"><li>עמוד הבית</li></a>
                      <a href="xhibits.html"><li>דגמים</li></a>
                      <a href="attracions.html"><li>אטרקציות</li></a>
                      <a href="#"><li>צור קשר</li></a>
                    </ul>
                  </div>
                </nav>
            </div> 

            <nav id="leftNav">
                <ul>
                    <li><a href="#">איפה אנחנו על המפה</a></li>
                    <li><a href="about.html">מאמרים</a></li>
                    <li><a href="#">English</a></li>
                </ul>
            </nav>
            <a href="index.html" id="subLogo"></a> 
            <nav id="rightNav">
                <ul>
                    <li><a href="#">גלה את מיני ישראל</a></li>
                    <li><a href="models.html">מידע למבקרים</a></li>
                    <li><a href="contact.html">צור קשר</a></li>
                </ul>
            </nav>
            <main class="clear">
               <ol class="breadcrumb col-md-6 col-lg-6 col-md-offset-6 col-lg-offset-6">
                    <li><a href = "#">עמוד הבית</a></li>
                    <li><a href = "#">מידע למבקרים</a></li>
                    <li><a href = "#">דגמים</a></li>
                    <li class = "active">מגדלי עזריאלי</li>
                </ol>
                <!-- <h1 class="col-md-4 col-lg-4 col-md-offset-8 col-lg-offset-8">מגדלי עזריאלי</h1> -->
                <h1 class="col-md-4 col-lg-4 col-md-offset-8 col-lg-offset-8">{{exhibit.name}}</h1>
                <section id="content">
                    <!-- HTML for render Google Sign-In button -->
                    <div id="gSignIn"></div>
                    <!-- HTML for displaying user details -->
                    <div class="userContent"></div>

                    <!-- <button ng-click="addUser()">Add User</button>
                    <br><br>
                    <input ng-model="like" placeholder="Like">
                    <button ng-click="addLike(like)">LIKE</button>
                    <br><br>
                    <input ng-model="watch" placeholder="Watch">
                    <button ng-click="addWatched(watch)">WATCH</button> -->
                    <section class="xhibit-frame col-md-11 col-lg-11 col-md-offset-1 col-lg-offset-1">
                        <img ng-src="{{exhibit.image}}">
                        <!-- <img src="/images/exhibits/3.png"> -->
                    </section>
                    <section class="xhibit-frame col-md-11 col-lg-11 col-md-offset-1 col-lg-offset-1">
                        {{exhibit.info}}
                        <!-- <p>here will be some info......</p> -->
                    </section>
                    <section class="xhibit-frame col-md-11 col-lg-11 col-md-offset-1 col-lg-offset-1" id="xvideo">
                        <iframe src={{exhibit.video}} allowfullscreen></iframe>
                        <button id="like" ng-click="addLike(exhibit.nameId);image={'background-image':getImage()}" ng-style="image"></button>
                    </section>
                </section>
            </main>
            <aside>
                <nav id="sideNav">
                    <ul>
                        <li> <a href="#">משפחות ומבקרים</a></li>
                        <li> <a href="#">אירועים פרטיים ועסקיים</a></li>
                        <li> <a href="#">בתי ספר ומורים</a></li>
                        <li> <a href="#">20.8.2011</a><p><br><br>החג הזה כולם חוגגים במיני ישראל שבועות</p></li>
                        <li> 
                            <a href="#">אנחנו על המפה</a> 
                            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d68326.17096813886!2d34.928196239616135!3d31.841129025442036!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1502cf13bc48ad49%3A0xb3b1b08ee1f671c9!2sMini+Israel!5e0!3m2!1sen!2sil!4v1468398150604"></iframe>
                        </li>
                    </ul>
                </nav>  
            </aside>
            <!-- <footer class="clear">
                
            </footer> -->
        </div>
        <script src="/js/lib/angular/angular.min.js"></script>
        <script src="/js/lib/angular/angular-cookies.min.js"></script>
        <script src="/js/lib/angular/angular-route.min.js"></script>
        <script src="/js/xhibit.js"></script>
    </body>
</html>